---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="centos" tag="latest"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="opensuse" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"
    - image="ubuntu" tag="xenial"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - n=0 ; until [ "$n" = 3 ] ; do tox && break ; n=$((n+1)) ; done

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack: "Ohtdg0Uy71lMT009U3+FE4lQcWZvjqYkBprauNaJaQoXr0XsVK+h8a/0TYtcHuDweHLoejzTSXAtRbwkRYBx8K78Vw4q4JPXkKb2/6sMzMuO6Vm9xKvQujVvA8zv1WeFynWy4SNm8NEH/7bv8xLJYgm8DkeBOmnA1IpO3wxAudbKP6Pz/BajZ6SHBk2IJEVXXp7UsC47Pj0rrqnIeAmH8dVIvBUir77Xhub4VETR71s5I8rwOA+6W1/FmWcnm3O3ZplbuEIPqJMUbmYSZzfc7u4vxSrY5tp9kLN+KxUkyv6DiU6GE4tVzYUiy7mwkLknQKwEA5EHsjsQ1t3ubE263Z8oCmomhMZQYV4A7e6Td1J7THOSCnlH4Aqtek99dhDzJLC5BKt1FB2AexydGPb9BCYjrfI5g8pRU95PJfBVd7Q7cFBJoEFMGCQ4lzN4PuH1PZbUVWXAzgXNHt5GO82LQx2bxYsIsiNScf4MgkaAUQmOKRgRjXPBCl1Zb1CPMJeyCeLqnxslbS8e7gxKOrVCmRK5RFInszaND6MtPO+Kv0kTqFWWbRxmesGEPRUHhd/PBkiUWwWWq2kagRiSgQ1/nn4RZRkgQB/x6eLqb+7v/+Ddzt4SnMSg4j7sfn22dfw3AGs5miGT+29R9eNfgF8Cek0NWECBNTJYh5JxSKjvRH4="
  email: false
